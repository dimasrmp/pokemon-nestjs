{"ast":null,"code":"var _jsxFileName = \"/var/www/html/pokemon-app/frontend/src/context/PokemonContext.js\",\n  _s = $RefreshSig$();\nimport React, { createContext, useReducer } from 'react';\nimport axios from 'axios';\nimport api from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  pokemonList: [],\n  pokemonDetail: {},\n  myPokemonList: []\n};\nconst PokemonContext = /*#__PURE__*/createContext(initialState);\nconst pokemonReducer = (state, action) => {\n  switch (action.type) {\n    case 'SET_POKEMON_LIST':\n      return {\n        ...state,\n        pokemonList: action.payload\n      };\n    case 'SET_POKEMON_DETAIL':\n      return {\n        ...state,\n        pokemonDetail: action.payload\n      };\n    case 'CATCH_POKEMON':\n      return {\n        ...state,\n        myPokemonList: [...state.myPokemonList, action.payload]\n      };\n    case 'RELEASE_POKEMON':\n      return {\n        ...state,\n        myPokemonList: state.myPokemonList.filter(pokemon => pokemon.id !== action.payload)\n      };\n    case 'RENAME_POKEMON':\n      return {\n        ...state,\n        myPokemonList: state.myPokemonList.map(pokemon => pokemon.id === action.payload.id ? {\n          ...pokemon,\n          name: action.payload.name,\n          renameCount: ac\n        } : pokemon)\n      };\n    default:\n      return state;\n  }\n};\nconst PokemonProvider = ({\n  children\n}) => {\n  _s();\n  const [state, dispatch] = useReducer(pokemonReducer, initialState);\n  const fetchPokemonList = async () => {\n    try {\n      const response = await axios.get('https://pokeapi.co/api/v2/pokemon?limit=20');\n      const pokemonList = response.data.results.map(pokemon => ({\n        name: pokemon.name,\n        image: `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${pokemon.url.split('/')[pokemon.url.split('/').length - 2]}.png`\n      }));\n      dispatch({\n        type: 'SET_POKEMON_LIST',\n        payload: pokemonList\n      });\n    } catch (error) {\n      console.error('Failed to fetch Pokemon list', error);\n    }\n  };\n  const fetchPokemonDetail = async name => {\n    const response = await axios.get(`https://pokeapi.co/api/v2/pokemon/${name}`);\n    const pokemonDetail = {\n      name: response.data.name,\n      image: response.data.sprites.front_default,\n      types: response.data.types.map(typeInfo => typeInfo.type.name),\n      moves: response.data.moves.map(moveInfo => moveInfo.move.name)\n    };\n    dispatch({\n      type: 'SET_POKEMON_DETAIL',\n      payload: pokemonDetail\n    });\n  };\n  const catchPokemon = async name => {\n    const response = await api.catchPokemon();\n    if (response.success) {\n      const nickname = prompt('Give your new Pokemon a nickname:');\n      const newPokemon = {\n        id: Date.now(),\n        name,\n        nickname,\n        oldName: name,\n        renameCount: 0,\n        image: state.pokemonDetail.image\n      };\n      dispatch({\n        type: 'CATCH_POKEMON',\n        payload: newPokemon\n      });\n      alert('Success to catch Pokemon');\n    } else {\n      alert('Failed to catch Pokemon');\n    }\n  };\n  const releasePokemon = async id => {\n    const response = await api.releasePokemon();\n    if (response.success) {\n      dispatch({\n        type: 'RELEASE_POKEMON',\n        payload: id\n      });\n    } else {\n      alert(`Failed to release Pokemon. Number generated: ${response.number}`);\n    }\n  };\n  const renamePokemon = async (id, name, renameCount) => {\n    const response = await api.renamePokemon(name);\n    dispatch({\n      type: 'RENAME_POKEMON',\n      payload: {\n        id,\n        name: response.newName,\n        renameCount\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(PokemonContext.Provider, {\n    value: {\n      pokemonList: state.pokemonList,\n      pokemonDetail: state.pokemonDetail,\n      myPokemonList: state.myPokemonList,\n      fetchPokemonList,\n      fetchPokemonDetail,\n      catchPokemon,\n      releasePokemon,\n      renamePokemon\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 5\n  }, this);\n};\n_s(PokemonProvider, \"6JWkGZ32UPfojeNx+xqn8ZU8A0Q=\");\n_c = PokemonProvider;\nexport { PokemonContext, PokemonProvider };\nvar _c;\n$RefreshReg$(_c, \"PokemonProvider\");","map":{"version":3,"names":["React","createContext","useReducer","axios","api","jsxDEV","_jsxDEV","initialState","pokemonList","pokemonDetail","myPokemonList","PokemonContext","pokemonReducer","state","action","type","payload","filter","pokemon","id","map","name","renameCount","ac","PokemonProvider","children","_s","dispatch","fetchPokemonList","response","get","data","results","image","url","split","length","error","console","fetchPokemonDetail","sprites","front_default","types","typeInfo","moves","moveInfo","move","catchPokemon","success","nickname","prompt","newPokemon","Date","now","oldName","alert","releasePokemon","number","renamePokemon","newName","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/var/www/html/pokemon-app/frontend/src/context/PokemonContext.js"],"sourcesContent":["import React, { createContext, useReducer } from 'react';\nimport axios from 'axios';\nimport api from '../services/api';\n\nconst initialState = {\n  pokemonList: [],\n  pokemonDetail: {},\n  myPokemonList: [],\n};\n\nconst PokemonContext = createContext(initialState);\n\nconst pokemonReducer = (state, action) => {\n  switch (action.type) {\n    case 'SET_POKEMON_LIST':\n      return { ...state, pokemonList: action.payload };\n    case 'SET_POKEMON_DETAIL':\n      return { ...state, pokemonDetail: action.payload };\n    case 'CATCH_POKEMON':\n      return { ...state, myPokemonList: [...state.myPokemonList, action.payload] };\n    case 'RELEASE_POKEMON':\n      return { ...state, myPokemonList: state.myPokemonList.filter(pokemon => pokemon.id !== action.payload) };\n    case 'RENAME_POKEMON':\n      return {\n        ...state,\n        myPokemonList: state.myPokemonList.map(pokemon => \n          pokemon.id === action.payload.id ? { ...pokemon, name: action.payload.name, renameCount: ac } : pokemon\n        ),\n      };\n    default:\n      return state;\n  }\n};\n\nconst PokemonProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(pokemonReducer, initialState);\n\n  const fetchPokemonList = async () => {\n    try {\n      const response = await axios.get('https://pokeapi.co/api/v2/pokemon?limit=20');\n      const pokemonList = response.data.results.map(pokemon => ({\n        name: pokemon.name,\n        image: `https://raw.githubusercontent.com/PokeAPI/sprites/master/sprites/pokemon/${pokemon.url.split('/')[pokemon.url.split('/').length - 2]}.png`\n      }));\n      dispatch({ type: 'SET_POKEMON_LIST', payload: pokemonList });\n    } catch (error) {\n      console.error('Failed to fetch Pokemon list', error);\n    }\n  };\n\n  const fetchPokemonDetail = async (name) => {\n    const response = await axios.get(`https://pokeapi.co/api/v2/pokemon/${name}`);\n    const pokemonDetail = {\n      name: response.data.name,\n      image: response.data.sprites.front_default,\n      types: response.data.types.map(typeInfo => typeInfo.type.name),\n      moves: response.data.moves.map(moveInfo => moveInfo.move.name),\n    };\n    dispatch({ type: 'SET_POKEMON_DETAIL', payload: pokemonDetail });\n  };\n\n  const catchPokemon = async (name) => {\n    const response = await api.catchPokemon();\n    if (response.success) {\n      const nickname = prompt('Give your new Pokemon a nickname:');\n      const newPokemon = { id: Date.now(), name, nickname, oldName:name, renameCount:0, image: state.pokemonDetail.image };\n      dispatch({ type: 'CATCH_POKEMON', payload: newPokemon });\n      alert('Success to catch Pokemon');\n    } else {\n      alert('Failed to catch Pokemon');\n    }\n  };\n\n  const releasePokemon = async (id) => {\n    const response = await api.releasePokemon();\n    if (response.success) {\n      dispatch({ type: 'RELEASE_POKEMON', payload: id });\n    } else {\n      alert(`Failed to release Pokemon. Number generated: ${response.number}`);\n    }\n  };\n\n  const renamePokemon = async (id, name, renameCount) => {\n    const response = await api.renamePokemon(name);\n    dispatch({ type: 'RENAME_POKEMON', payload: { id, name: response.newName, renameCount} });\n  };\n\n  return (\n    <PokemonContext.Provider\n      value={{\n        pokemonList: state.pokemonList,\n        pokemonDetail: state.pokemonDetail,\n        myPokemonList: state.myPokemonList,\n        fetchPokemonList,\n        fetchPokemonDetail,\n        catchPokemon,\n        releasePokemon,\n        renamePokemon,\n      }}\n    >\n      {children}\n    </PokemonContext.Provider>\n  );\n};\n\nexport { PokemonContext, PokemonProvider };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}